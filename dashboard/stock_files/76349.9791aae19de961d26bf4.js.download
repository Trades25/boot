(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[76349,75179],{489928:e=>{e.exports={}},780792:(e,t,n)=>{"use strict";n.d(t,{AbstractIndicator:()=>a});var i=n(338619),s=n(79342),r=n(625545);n(673747);const o=(0,i.getLogger)("GUI.Blocks.AbstractIndicator");class a{constructor(e){this._classSuffix="",this._quoteSessionPrefix="abstract-indicator",this._shortMode=!1,this._showTooltip=!0,this._subscribed=!1,this._tooltipType="custom",this._lastTooltipText="",this._quoteSession=e.quoteSession}getValue(){return this._value}getTooltipText(){return this._labelMap[this._value]||""}getLabel(){return this._labelMap[this._value]||""}getElement(){return this._el}update(e,t){this._updateValue(e,t),this._render()}setTooltipEnabled(e=!1){this._showTooltip!==e&&(this._showTooltip=e,this._renderTooltip())}enableShortMode(){!0!==this._shortMode&&(this._shortMode=!0,this._render())}disableShortMode(){!1!==this._shortMode&&(this._shortMode=!1,this._render())}isShortModeEnabled(){return this._shortMode}start(){!this._subscribed&&this._symbolName&&(this._quoteSession||(this._quoteSession=(0,r.getQuoteSessionInstance)("simple")),this._quoteSession.subscribe(this._getQuoteSessionId(),this._symbolName,this.update.bind(this)),this._subscribed=!0)}stop(){this._subscribed&&this._quoteSession&&this._symbolName&&(this._quoteSession.unsubscribe(this._getQuoteSessionId(),this._symbolName),this._subscribed=!1)}setSessionStatusIcon(e){this._sessionStatusIcon!==e&&(this._sessionStatusIcon=e,this._render())}_init(e){this._el=e.el?e.el:document.createElement("span"),this._el.innerHTML="",this._classMap=e.classMap,this._iconClassMap=e.iconClassMap,this._labelMap=e.labelMap,this._showTooltip=e.showTooltip,this._classSuffix=e.classSuffix,this._symbolName=e.symbol,this._sessionStatusIcon=e.sessionStatusIcon,this._onValueChange=e.onValueChange,e.tooltipType&&(this._tooltipType=e.tooltipType),this._quoteSessionGUID=(0,s.guid)(),!0===e.short&&this.enableShortMode(),e.data&&this._updateValue(e.data)}_clearClasses(){Object.values(this._classMap).map((e=>{this._el.classList.remove(`${e}`),this._el.classList.remove(`${e}${this._classSuffix}`)}))}_render(){this._renderClasses(),this._renderTooltip(),this._renderLabel()}_renderLabel(){this._el.textContent=this.getLabel()}_updateValue(e,t){const n=this._getValueFromData(e);(t||n!==this._value)&&(this._value=n,this._onValueChange?.(this._value))}_renderClasses(){const e=this._el.classList;e.add(this._componentClass,this._componentClass+this._classSuffix);const t=this._classMap[this._value];for(const n in this._classMap){const i=this._classMap[n];i&&(i===t?(e.add(i,i+this._classSuffix),this._sessionStatusIcon&&e.add(i+"__withIcon")):(e.remove(i,i+this._classSuffix),this._sessionStatusIcon&&e.remove(i+"__withIcon")))}!t&&this._value&&o.logWarn(`no className for status ${this._value}`)}_renderTooltip(){const e=this._showTooltip?this.getTooltipText():"";e!==this._lastTooltipText&&(this._lastTooltipText=e,this._el.setAttribute("title",e),
"custom"===this._tooltipType&&this._el.classList.toggle("apply-common-tooltip",this._showTooltip))}_getQuoteSessionId(){return`${this._quoteSessionPrefix}.${this._quoteSessionGUID}`}}},719240:(e,t,n)=>{"use strict";n.d(t,{DataModeIndicator:()=>l});var i=n(444372),s=(n(466281),n(489928),n(780792));const r={connecting:"tv-data-mode--connecting",delayed:"tv-data-mode--delayed",delayed_streaming:"tv-data-mode--delayed",endofday:"tv-data-mode--endofday",forbidden:"tv-data-mode--forbidden",realtime:"tv-data-mode--realtime",snapshot:"tv-data-mode--snapshot",loading:"tv-data-mode--loading",replay:"tv-data-mode--replay"};function o(){return{connecting:i.t(null,{context:"data_mode_connecting_letter"},n(167040)),delayed:i.t(null,{context:"data_mode_delayed_letter"},n(800919)),delayed_streaming:i.t(null,{context:"data_mode_delayed_streaming_letter"},n(933088)),endofday:i.t(null,{context:"data_mode_end_of_day_letter"},n(918400)),forbidden:i.t(null,{context:"data_mode_forbidden_letter"},n(514149)),realtime:i.t(null,{context:"data_mode_realtime_letter"},n(650940)),snapshot:i.t(null,{context:"data_mode_snapshot_letter"},n(756757)),loading:"",replay:i.t(null,{context:"data_mode_replay_letter"},n(745540))}}const a={streaming:"realtime"};class l extends s.AbstractIndicator{constructor(e){super(e),this._quoteSessionPrefix="data-mode-indicator",this._componentClass="tv-data-mode",this._init(e)}getLabel(){return!0===this._shortMode?this._shortLabelMap[this._value]||"":super.getLabel()}setMode(e,t){this.update({values:{update_mode:e,update_mode_seconds:t}})}hide(){this._el.classList.add("i-hidden")}show(){this._el.classList.remove("i-hidden")}getTooltipText(){let e="";const t=this.getValue();if(""===t)return e;switch(t){case"delayed":e=i.t(null,void 0,n(369539));break;case"delayed_streaming":e=i.t(null,void 0,n(167476));break;default:e=this._labelMap[t]||e}return["delayed","delayed_streaming"].includes(t)&&(e=e.format({number:String(Math.round(this._modeInterval/60))})),e}_init(e={}){const t=Object.assign({},{classMap:r,classSuffix:"",data:{values:{update_mode:"connecting"}},labelMap:{connecting:i.t(null,void 0,n(366891)),delayed:i.t(null,void 0,n(739688)),delayed_streaming:i.t(null,void 0,n(739688)),endofday:i.t(null,void 0,n(328304)),forbidden:i.t(null,void 0,n(909161)),realtime:i.t(null,void 0,n(303058)),snapshot:i.t(null,void 0,n(988408)),loading:"",replay:i.t(null,void 0,n(38822))},modeInterval:600,short:!1,shortLabelMap:o(),showTooltip:!0,tooltipType:"custom"},e);this._modeInterval=t.modeInterval||600,this._shortLabelMap=t.shortLabelMap||o(),super._init(t),this._render()}_getValueFromData(e){let t;return t=void 0!==e.values&&void 0!==e.values.update_mode?e.values.update_mode:this.getValue(),a[t]||t}_updateValue(e,t){void 0!==e.values&&void 0!==e.values.update_mode_seconds&&(this._modeInterval=e.values.update_mode_seconds),super._updateValue(e,t)}}},31214:(e,t,n)=>{"use strict";n.d(t,{reloginOrGoPro:()=>u,runOrGoPro:()=>l,runOrGoProWithoutSync:()=>a});var i=n(526225),s=n(590508),r=n(456335),o=n(802588);function a(e,t,n,i){(0,
r.featureCheck)(t,i)?e():(0,s.createGoProDialog)({...n,runOrGoproWithFeatureCheckOptions:{featureCheck:()=>(0,r.featureCheck)(t,i),signInSuccess:e}})}async function l(e,t,n,s={}){const r=window.is_authenticated;window.is_authenticated&&window.user.is_pro&&await(0,i.syncUserData)("gopro"),r===window.is_authenticated?a(e,t,n,s):(0,o.showSignModal)({source:n.goproSource,feature:n.feature,signinSuccess:e})}async function u(e){const t=window.is_authenticated;window.is_authenticated&&window.user.is_pro&&await(0,i.syncUserData)("gopro"),t===window.is_authenticated?(0,s.createGoProDialog)(e):(0,o.showSignModal)({source:e.goproSource,feature:e.feature})}},175203:(e,t,n)=>{"use strict";n.d(t,{telemetry:()=>c});var i=n(942634),s=n(702598),r=n(638456),o=n(314802);n(659863);const a=(0,n(338619).getLogger)("Common.Telemetry"),l={default:15e3,site:3e5},u=["before_websocket_connection_time_frame","websocket_connection_time_frame","first_series_full_time_frame","page_full_load_time_frame","page_load_time_frame"];const c=new class{constructor(){this.reportSent=new i.Delegate,this.timeCounters={series:{marks:[]},study:{},pine:{}},this._timeoutIds={},this._commonAdditionalData={cluster:null,userId:"0"},this._reportStash={}}setSessionInfo(e){const t=this._parseCluster(e);null!==t&&(this._commonAdditionalData.cluster=t)}sendReport(e,t,n){if(!this._isAbleToSendReport(t))return;const i=this._getSubserviceType(e),s=this._getHost(e,i);if(null!==s){if(n=void 0===n?{count:1}:n,this._addReportToStash(n,t,s),!this._timeoutIds[e]){const t=l[e]??l.default;this._timeoutIds[e]=setTimeout(this._sendTelemetryToService.bind(this,e,s),t)}}else a.logError(`Unable to get host for counter: ${t}, metric type: ${e}, serivce type: ${i}`)}sendChartReport(e,t,n=!0){this._sendServiceSpecifiedReport("charts",e,t,n)}sendLineToolsStorageReport(e,t,n=!0){this._sendServiceSpecifiedReport("line_tools_storage",e,t,n)}_sendServiceSpecifiedReport(e,t,n,i=!0){this._updateUserInfo(),n=void 0===n?{count:1}:n,i&&(n=this._appendCommonAdditionalInfo(n,["cluster","userId"])),this.sendReport(e,t,n)}_updateUserInfo(){const e="user"in window&&"id"in window.user?window.user.id:"0";this._commonAdditionalData.userId=String(e)}_isAbleToSendReport(e){const t=window.TELEMETRY_HOSTS,n=u.includes(e),i=Boolean(window.TradingView.onChartPage||(0,r.onWidget)());return t&&(!n||i)}_sendTelemetryToService(e,t){if(this._reportStash.hasOwnProperty(t)){const e=this._cropParams(this._reportStash[t]),n=this._renameAllParams(e),i={event:"report_stash",params:this._cleanAllParams(n)};a.logDebug(`Report to host: ${t}; stash: ${JSON.stringify(this._reportStash[t])}`),this.reportSent.fire(this._reportStash[t]),delete this._reportStash[t],(0,s.fetch)(`${t}/report`,{method:"POST",body:JSON.stringify(i)})}this._timeoutIds[e]=null}_getHost(e,t){const n=window.TELEMETRY_HOSTS,i=n[e]&&n[e][t];return Boolean(i)?i:null}_getSubserviceType(e){if(!["charts","site"].includes(e))return"all";let t="free";const n=window.user.is_pro;return"charts"===e&&(0,
o.isOnMobileAppPage)("old")?t=n?"ios_pro":"ios_free":"charts"===e&&(0,o.isOnMobileAppPage)("new")?t=n?"android_pro":"android_free":(0,r.onWidget)()?t="widget":n&&(t="pro"),t}_parseCluster(e){let t;try{t=JSON.parse(e).session_id}catch(e){return a.logError("Could not parse cluster id (session id)"),null}const n=/(.*@)(.*)/gi.exec(t);return null!==n&&n.length>=3?n[2]:null}_appendCommonAdditionalInfo(e,t){return t.forEach((t=>{t in this._commonAdditionalData&&(e.additional=e.additional||{},e.additional[t]=this._commonAdditionalData[t])})),e}_cropParams(e){for(const t in e)e.hasOwnProperty(t)&&e[t].length>1e3&&(e.too_much_metrics_frame=e.too_much_metrics_frame??[],e.too_much_metrics_frame.push({value:e[t].length,additional:{event:t}}),delete e[t]);return e}_renameAllParams(e){const t={};for(const n in e)e.hasOwnProperty(n)&&(t[n]=[],e[n].forEach((e=>{t[n].push(this._renameEntryParams(e))})));return t}_renameEntryParams(e){const t={count:"c",value:"v",text:"t",additional:"a"};return Object.keys(e).reduce(((n,i)=>(n[t[i]]=e[i],n)),{})}_cleanAllParams(e){const t={};for(const n in e)if(e.hasOwnProperty(n)){t[n]=[];const i={c:0};e[n].forEach((e=>{const s=this._cleanEntryParams(e),r=Object.keys(s).length;1===r&&void 0!==s.c?i.c+=s.c:r>0&&t[n].push(s)})),i.c>0&&t[n].push(i),0===t[n].length&&delete t[n]}return t}_cleanEntryParams(e){const t=Object.keys(e).reduce(((t,n)=>"c"!==n&&"t"!==n||e[n]?(t[n]=e[n],t):t),{});return"c"in t||"v"in t||"t"in t?t:{}}_addReportToStash(e,t,n){n in this._reportStash||(this._reportStash[n]={}),t in this._reportStash[n]||(this._reportStash[n][t]=[]),Object.keys(e).length>0&&this._reportStash[n][t].push(e)}}},643322:(e,t,n)=>{"use strict";n.d(t,{accumulate:()=>a,combine:()=>o,combineWithFilteredUpdate:()=>r});var i=n(375397);function s(e,t,...n){let s=null;const r=(...t)=>e(...t.map((e=>e.value())),s?.value()),o=s=new i.WatchedValue(r(...n)),a=()=>{t(...n.map((e=>e.value())))&&o.setValue(r(...n))},l=n.map((e=>e.spawn()));for(const e of l)e.subscribe(a);return o.readonly().spawn((()=>{l.forEach((e=>e.destroy())),n.forEach((e=>e.release()))}))}function r(e,t,...n){return s(e,t,...n)}function o(e,...t){return s(e,(()=>!0),...t)}function a(e,t,n){const s=(t,n)=>{const i=t.map((e=>e.value()));return e(i,n)},r=new i.WatchedValue(s(t.value(),n?.value())),o=t.spawn();let a=[];const l=n?.spawn()??new i.WatchedValue(void 0),u=()=>{r.setValue(s(a,l.value()))},c=e=>{a.forEach((e=>e.destroy())),a=e.map((e=>e.spawn())),a.forEach((e=>{e.subscribe(u)})),u()};c(o.value()),o.subscribe(c),l.subscribe(u);return r.readonly().spawn((()=>{a.forEach((e=>e.destroy())),o.destroy(),l.destroy(),t.release()}))}},692558:(e,t,n)=>{"use strict";n.d(t,{LOGLEVEL:()=>r,getLogHistory:()=>b,getLogLevel:()=>g,getLogger:()=>T,getRawLogHistory:()=>S,isHighRateEnabled:()=>f,loggingOff:()=>I,loggingOn:()=>E,serializeLogHistoryEntry:()=>v,setLogLevel:()=>y});const i="undefined"!=typeof window?window:{};let s=!1;try{localStorage.getItem(""),s=!0}catch(e){}var r;!function(e){e[e.ERROR=1]="ERROR",e[e.WARNING=2]="WARNING",e[e.INFO=3]="INFO",
e[e.NORMAL=4]="NORMAL",e[e.DEBUG=5]="DEBUG"}(r||(r={}));let o=0;const a="tv.logger.loglevel",l="tv.logger.logHighRate",u=[];let c=null,d=null,h=null,_=NaN,m=r.WARNING,p=!1;function g(){return m}function f(){return p}function y(e){e=Math.max(r.ERROR,Math.min(r.DEBUG,e)),m=e,R()}function S(e,t){let n=u.reduce(((e,t)=>e.concat(t)),[]);return n.sort(((e,t)=>e.id-t.id)),void 0!==t&&(n=n.filter((e=>e.subSystemId===t))),"number"==typeof e&&(n=n.slice(-e)),n}function v(e){return new Date(e.timestamp).toISOString()+":"+e.subSystemId+":"+e.message.replace(/"/g,"'")}const b=i.lget=(e,t)=>function(e,t){let n,i=0,s=0;for(n=e.length-1;n>=1&&(i+=8*(1+encodeURIComponent(e[n]).length),!(n-1>0&&(s=8*(1+encodeURIComponent(e[n-1]).length),i+s>t)));n--);return e.slice(n)}(S(e,t).map(v),75497472);function M(e,t,n,i){if(t===d&&i.id===h)return;const s=new Date;if(e<=r.NORMAL&&function(e,t,n,i,s){"function"==typeof structuredClone&&(t=structuredClone(t));const r={id:o,message:t,subSystemId:i,timestamp:Number(e)};o+=1,n.push(r),void 0!==s&&n.length>s&&n.splice(0,1)}(s,t,n,i.id,i.maxCount),e<=m&&(!i.highRate||f())&&(!c||i.id.match(c))){const n=s.toISOString()+":"+i.id+":"+t;switch(e){case r.DEBUG:console.debug(n);break;case r.INFO:case r.NORMAL:i.color?console.log("%c"+n,"color: "+i.color):console.log(n);break;case r.WARNING:console.warn(n);break;case r.ERROR:console.error(n)}d=t,h=i.id,_&&clearTimeout(_),_=setTimeout((()=>{d=null,h=null,_=NaN}),1e3)}}function T(e,t={}){const n=[];u.push(n);const i=Object.assign(t,{id:e});function s(e){return t=>M(e,String(t),n,i)}return{logDebug:s(r.DEBUG),logError:s(r.ERROR),logInfo:s(r.INFO),logNormal:s(r.NORMAL),logWarn:s(r.WARNING)}}const w=T("logger"),E=i.lon=(e,t)=>{y(r.DEBUG),w.logNormal("Debug logging enabled"),p=Boolean(e),c=t||null,R()},I=i.loff=()=>{y(r.INFO),w.logInfo("Debug logging disabled")};function R(){try{s&&(localStorage.setItem(l,String(p)),localStorage.setItem(a,String(m)))}catch(e){w.logWarn(`Cannot save logger state (level: ${m}, high-rate: ${p}) to localStorage: ${e.message}`)}}!function(){p=!!s&&"true"===localStorage.getItem(l);let e=parseInt(s&&localStorage.getItem(a)||"");Number.isNaN(e)&&(e=r.WARNING),y(e),w.logNormal(`Init with settings - level: ${m}, high-rate: ${p}`)}(),i.performance&&i.performance.now?w.logNormal(`Sync logger and perf times, now is ${i.performance.now()}`):w.logWarn("Perf time is not available")},788387:(e,t,n)=>{"use strict";function i(e,t){return!!t?.includes("cfd")&&["commodity","futures","index","stock","fund"].includes(e)}function s(e,t){return"stock"===e&&void 0!==t&&!t.includes("cfd")}n.d(t,{isCFDSymbol:()=>i,isStockSymbol:()=>s})},246125:(e,t,n)=>{"use strict";n.d(t,{availableDateFormats:()=>S,dateFormatFunctions:()=>f,defaultDateFormat:()=>v,getDateFormatWithWeekday:()=>y,months:()=>o});var i=n(444372),s=n(39654),r=n(574313);const o={1:()=>i.t(null,void 0,n(562310)),2:()=>i.t(null,void 0,n(302507)),3:()=>i.t(null,void 0,n(92767)),4:()=>i.t(null,void 0,n(227072)),5:()=>i.t(null,{context:"short"},n(13132)),6:()=>i.t(null,void 0,n(800429)),
7:()=>i.t(null,void 0,n(853786)),8:()=>i.t(null,void 0,n(546450)),9:()=>i.t(null,void 0,n(806816)),10:()=>i.t(null,void 0,n(912179)),11:()=>i.t(null,void 0,n(526899)),12:()=>i.t(null,void 0,n(532084))},a={1:()=>i.t(null,void 0,n(914568)),2:()=>i.t(null,void 0,n(913534)),3:()=>i.t(null,void 0,n(914530)),4:()=>i.t(null,void 0,n(903762))},l=(e,t)=>(t?e.getMonth():e.getUTCMonth())+1,u=(e,t)=>t?e.getFullYear():e.getUTCFullYear(),c=e=>e.toLocaleDateString(window.language?(0,s.getIsoLanguageCodeFromLanguage)(window.language):void 0,{weekday:"short",timeZone:"UTC"}),d=(e,t)=>a[((e,t)=>Math.floor((l(e,t)-1)/3)+1)(e,t)](),h=(e,t)=>(0,r.numberToStringWithLeadingZero)(((e,t)=>t?e.getDate():e.getUTCDate())(e,t),2),_=(e,t)=>o[l(e,t)](),m=(e,t)=>(0,r.numberToStringWithLeadingZero)(l(e,t),2),p=(e,t)=>(0,r.numberToStringWithLeadingZero)(u(e,t)%100,2),g=(e,t)=>(0,r.numberToStringWithLeadingZero)(u(e,t),4),f={"qq 'yy":(e,t)=>`${d(e,t)} '${p(e,t)}`,"dd MMM 'yy":(e,t)=>`${h(e,t)} ${_(e,t)} '${p(e,t)}`,"MMM 'yy":(e,t)=>`${_(e,t)} '${p(e,t)}`,"MMM dd, yyyy":(e,t)=>`${_(e,t)} ${h(e,t)}, ${g(e,t)}`,"MMM yyyy":(e,t)=>`${_(e,t)} ${g(e,t)}`,"MMM dd":(e,t)=>`${_(e,t)} ${h(e,t)}`,"dd MMM":(e,t)=>`${h(e,t)} ${_(e,t)}`,"yyyy-MM-dd":(e,t)=>`${g(e,t)}-${m(e,t)}-${h(e,t)}`,"yy-MM-dd":(e,t)=>`${p(e,t)}-${m(e,t)}-${h(e,t)}`,"yy/MM/dd":(e,t)=>`${p(e,t)}/${m(e,t)}/${h(e,t)}`,"yyyy/MM/dd":(e,t)=>`${g(e,t)}/${m(e,t)}/${h(e,t)}`,"dd-MM-yyyy":(e,t)=>`${h(e,t)}-${m(e,t)}-${g(e,t)}`,"dd-MM-yy":(e,t)=>`${h(e,t)}-${m(e,t)}-${p(e,t)}`,"dd/MM/yy":(e,t)=>`${h(e,t)}/${m(e,t)}/${p(e,t)}`,"dd/MM/yyyy":(e,t)=>`${h(e,t)}/${m(e,t)}/${g(e,t)}`,"MM/dd/yy":(e,t)=>`${m(e,t)}/${h(e,t)}/${p(e,t)}`,"MM/dd/yyyy":(e,t)=>`${m(e,t)}/${h(e,t)}/${g(e,t)}`};function y(e){return"ja"===window.language?(t,n)=>`${f[e](t,n)} (${c(t)})`:(t,n)=>`${c(t)} ${f[e](t,n)}`}const S=Object.keys(f),v=()=>-1!==["ja","ko","zh","zh_TW"].indexOf(window.language||"")?"yyyy-MM-dd":"dd MMM 'yy"},957365:(e,t,n)=>{"use strict";n.d(t,{PLACE_HOLDER:()=>o,VolumeFormatter:()=>a});var i=n(444372),s=n(397566),r=n(124829);const o="---";class a{constructor(e={}){this.type="volume";const{precision:t,minPrecision:n,dimensionPrecision:i,dimensionMinPrecision:r,ignoreLocaleNumberFormat:o,removeSpaceBeforeDimension:a}=e;this._precision=t??0,this._formatter=new s.NumericFormatter({ignoreLocaleNumberFormat:o,precision:this._precision,minPrecision:n??0}),this._dimensionPrecision=i??3,this._dimensionFormatter=new s.NumericFormatter({ignoreLocaleNumberFormat:o,precision:this._dimensionPrecision,minPrecision:r??0}),this._fractionalValues=void 0!==t&&t>0,this._spaceBeforeDimension=a?"":" ",this._options=e}state(){const{ignoreLocaleNumberFormat:e,...t}=this._options;return t}format(e,t){if(!(0,r.isNumber)(e))return o;if(Math.abs(e)>=1e100)return i.t(null,void 0,n(696935));const s=Math.abs(e);let a=""
;(e=s<1e3?+e.toFixed(this._precision):s<1e6?1e3*+(e/1e3).toFixed(this._dimensionPrecision):s<1e9?1e6*+(e/1e6).toFixed(this._dimensionPrecision):s<1e12?1e9*+(e/1e9).toFixed(this._dimensionPrecision):1e12*+(e/1e12).toFixed(this._dimensionPrecision))<0?a="−":e>0&&t?.signPositive&&(a="+"),e=Math.abs(e);const l=!!t?.ignoreLocaleNumberFormat;let u,c;return e<1e3?u=this._formatNumber(e,l,this._formatter):e<1e6?(u=this._formatNumber(e/1e3,l,this._dimensionFormatter),c="K"):e<1e9?(u=this._formatNumber(e/1e6,l,this._dimensionFormatter),c="M"):e<1e12?(u=this._formatNumber(e/1e9,l,this._dimensionFormatter),c="B"):(u=this._formatNumber(e/1e12,l,this._dimensionFormatter),c="T"),c?`${a}${u}${this._spaceBeforeDimension}${c}`:`${a}${u}`}parse(e,t){if("---"===e)return{error:"not a number",res:!1,value:NaN};const n={K:1e3,M:1e6,B:1e9,T:1e12},i=(e=e.replace("−","-")).slice(-1);if(n.hasOwnProperty(i)){const s=this._formatter.parse(e.slice(0,-1).trim(),t),o=s.res?s.value:NaN;return(0,r.isNumber)(o)?{res:!0,value:o*n[i]}:{error:"not a number",res:!1,value:NaN}}{const n=this._formatter.parse(e.trim(),t),i=n.res?n.value:NaN;return(0,r.isNumber)(i)?{res:!0,value:i}:{error:"not a number",res:!1,value:NaN}}}static serialize(e){return e.state()}static deserialize(e){return new a(e)}_formatNumber(e,t,n){if(this._fractionalValues&&0!==e){const t=14-Math.ceil(Math.log10(e)),n=Math.pow(10,t);e=Math.round(e*n)/n}return n.format(e,{ignoreLocaleNumberFormat:t})}}},378975:(e,t,n)=>{"use strict";n.d(t,{Interval:()=>c,ResolutionKind:()=>r,SpecialResolutionKind:()=>o,isHour:()=>h});const i=/^(\d*)([TSHDWMR])$/,s=/^(\d+)$/;var r,o;!function(e){e.Ticks="ticks",e.Seconds="seconds",e.Minutes="minutes",e.Days="days",e.Weeks="weeks",e.Months="months",e.Range="range",e.Invalid="invalid"}(r||(r={})),function(e){e.Hours="hours"}(o||(o={}));const a={};a[r.Ticks]=1e3,a[r.Seconds]=1e3,a[r.Minutes]=60*a[r.Seconds],a[r.Days]=1440*a[r.Minutes],a[r.Weeks]=7*a[r.Days];const l={T:r.Ticks,S:r.Seconds,D:r.Days,W:r.Weeks,M:r.Months,R:r.Range},u=new Set([r.Ticks,r.Seconds,r.Minutes]);class c{constructor(e,t){this._kind=r.Invalid,this._multiplier=0,e!==r.Invalid&&t>0&&(this._kind=e,this._multiplier=t)}kind(){return this._kind}guiKind(){return this.isMinuteHours()?o.Hours:this._kind}multiplier(){return this._multiplier}isValid(){return this.kind()!==r.Invalid&&this.multiplier()>0}isDWM(){return this.isValid()&&!this.isRange()&&!this.isIntraday()&&!this.isTicks()}isIntraday(){const e=u.has(this.kind());return this.isValid()&&e}isSeconds(){return this.kind()===r.Seconds}isMinutes(){return this.kind()===r.Minutes}isMinuteHours(){return this.kind()===r.Minutes&&h(this.multiplier())}isDays(){return this.kind()===r.Days}isWeeks(){return this.kind()===r.Weeks}isMonths(){return this.kind()===r.Months}isRange(){return this.kind()===r.Range}isTicks(){return this.kind()===r.Ticks}is1Tick(){return this.isTicks()&&1===this.multiplier()}isTimeBased(){return!this.isRange()}letter(){return this.isValid()&&this.kind()!==r.Minutes?this.kind()[0].toUpperCase():""}value(){
return this.isValid()?this.kind()===r.Minutes?this.multiplier()+"":this.multiplier()+this.letter():""}isEqualTo(e){if(!(e instanceof c))throw new Error("Argument is not an Interval");return!(!this.isValid()||!e.isValid())&&(this.kind()===e.kind()&&this.multiplier()===e.multiplier())}inMilliseconds(e=Date.now()){if(!this.isValid()||this.isRange())return NaN;if(this.isMonths()){const t=new Date(e);t.setUTCMonth(t.getUTCMonth()+(this.multiplier()||1));return+t-e}const t=this.multiplier();return a[this.kind()]*t}static isEqual(e,t){return e===t||c.parse(e).isEqualTo(c.parse(t))}static parseExt(e){e=(e+"").toUpperCase().split(",")[0];let t=i.exec(e);return null!==t?"H"===t[2]?{interval:new c(r.Minutes,60*d(t[1])),guiResolutionKind:o.Hours}:{interval:new c(l[t[2]],d(t[1])),guiResolutionKind:l[t[2]]}:(t=s.exec(e),null!==t?{interval:new c(r.Minutes,d(t[1])),guiResolutionKind:r.Minutes}:{interval:new c(r.Invalid,0),guiResolutionKind:r.Invalid})}static parse(e){return c.parseExt(e).interval}static kind(e){return c.parse(e).kind()}static isValid(e){return c.parse(e).isValid()}static isDWM(e){return c.parse(e).isDWM()}static isIntraday(e){return c.parse(e).isIntraday()}static isSeconds(e){return c.parse(e).isSeconds()}static isMinutes(e){return c.parse(e).isMinutes()}static isMinuteHours(e){return c.parse(e).isMinuteHours()}static isDays(e){return c.parse(e).isDays()}static isWeeks(e){return c.parse(e).isWeeks()}static isMonths(e){return c.parse(e).isMonths()}static isRange(e){return c.parse(e).isRange()}static isTicks(e){return c.parse(e).isTicks()}static isTimeBased(e){return c.parse(e).isTimeBased()}static normalize(e){const t=c.parse(e);return t.isValid()?t.value():null}}function d(e){return 0===e.length?1:parseInt(e,10)}function h(e){return e>=60&&!(e%60)}},848292:(e,t,n)=>{"use strict";n.d(t,{combineProperty:()=>s});var i=n(998418);function s(e,...t){const n=()=>e(...t.map((e=>e.value()))),s=(0,i.createPrimitiveProperty)(n()),r=()=>s.setValue(n()),o={};for(const e of t)e.subscribe(o,r);return s.destroy=()=>{t.forEach((e=>e.unsubscribeAll(o))),t.forEach((e=>e.release()))},s}},78007:(e,t,n)=>{"use strict";n.d(t,{combineProperty:()=>o.combineProperty,createWVFromGetterAndSubscription:()=>i.createWVFromGetterAndSubscription,createWVFromGetterAndSubscriptions:()=>s.createWVFromGetterAndSubscriptions,createWVFromProperty:()=>r.createWVFromProperty});var i=n(523965),s=n(203918),r=n(874145);n(998418);var o=n(848292)},523965:(e,t,n)=>{"use strict";n.d(t,{createWVFromGetterAndSubscription:()=>s});var i=n(375397);function s(e,t){const n=new i.WatchedValue(e()),s={};t.subscribe(s,(()=>{n.setValue(e())}));return n.readonly().spawn((()=>t.unsubscribeAll(s)))}},874145:(e,t,n)=>{"use strict";n.d(t,{createWVFromProperty:()=>s});var i=n(523965);function s(e){return(0,i.createWVFromGetterAndSubscription)((()=>e.value()),e)}},509724:(e,t,n)=>{"use strict";function i(e){if(!e)return"";if(["AMEX"].includes(e))return"Arca";if(["NYSE ARCA & MKT"].includes(e))return"NYSE Arca";if(["Cboe BZX"].includes(e))return"Cboe One"
;if(["FTSEST"].includes(e))return"FTSE ST";const t=/^(CME|COMEX|CBOT|NYMEX)_MINI$/.exec(e);return null!==t?t[1]:e}n.d(t,{redefineExchangeName:()=>i})},540519:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SERIES_STATUS_TEXT:()=>v,STATUS_CALCULATION_ERROR:()=>g,STATUS_DELAYED:()=>d,STATUS_DELAYED_STREAMING:()=>h,STATUS_EOD:()=>u,STATUS_ERROR:()=>p,STATUS_INVALID_SYMBOL:()=>a,STATUS_LOADING:()=>r,STATUS_NO_BARS:()=>_,STATUS_OFFLINE:()=>i,STATUS_PULSE:()=>c,STATUS_READY:()=>o,STATUS_REPLAY:()=>m,STATUS_RESOLVING:()=>s,STATUS_SNAPSHOT:()=>l,STATUS_UNSUPPORTED_RESOLUTION:()=>f,STYLE_AREA:()=>w,STYLE_BARS:()=>b,STYLE_BASELINE:()=>k,STYLE_CANDLES:()=>M,STYLE_COLUMNS:()=>$,STYLE_HEIKEN_ASHI:()=>L,STYLE_HILO:()=>O,STYLE_HLC_AREA:()=>V,STYLE_HOLLOW_CANDLES:()=>A,STYLE_KAGI:()=>I,STYLE_LINE:()=>T,STYLE_LINE_WITH_MARKERS:()=>C,STYLE_PB:()=>N,STYLE_PNF:()=>R,STYLE_RANGE:()=>P,STYLE_RENKO:()=>E,STYLE_SHORT_NAMES:()=>F,STYLE_STEPLINE:()=>D,SYMBOL_STRING_DATA:()=>x,chartStylesWithAttachedStudies:()=>U,seriesLoadingStatuses:()=>S,seriesReadyStatuses:()=>y});const i=0,s=1,r=2,o=3,a=4,l=5,u=6,c=7,d=8,h=9,_=10,m=11,p=12,g=13,f=14,y=new Set([3,6,7,8,9,11]),S=new Set([1,2]),v={[i]:"connecting",[s]:"loading",[r]:"loading",[o]:"realtime",[a]:"invalid",[l]:"snapshot",[u]:"endofday",[c]:"endofday",[d]:"delayed",[h]:"delayed_streaming",[_]:"forbidden",[m]:"replay",[p]:"error",[g]:"calculation_error",[f]:"unsupported_resolution"},b=0,M=1,T=2,w=3,E=4,I=5,R=6,N=7,L=8,A=9,k=10,P=11,O=12,$=13,C=14,D=15,V=16,F={0:"bar",1:"candle",9:"hollowCandle",2:"line",14:"lineWithMarkers",15:"stepline",3:"area",16:"hlcArea",4:"renko",7:"pb",5:"kagi",6:"pnf",8:"ha",10:"baseline",11:"range",12:"hilo",13:"column",17:"volFootprint",18:"tpo",19:"volCandles",20:"svp"},x={4:{type:"BarSetRenko@tv-prostudies",basicStudyVersion:73},7:{type:"BarSetPriceBreak@tv-prostudies",basicStudyVersion:34},5:{type:"BarSetKagi@tv-prostudies",basicStudyVersion:73},6:{type:"BarSetPnF@tv-prostudies",basicStudyVersion:73},8:{type:"BarSetHeikenAshi@tv-basicstudies",basicStudyVersion:60},11:{type:"BarSetRange@tv-basicstudies",basicStudyVersion:72},17:{type:"Footprint@tv-volumebyprice",basicStudyVersion:104},18:{type:"TPOPeriodic@tv-volumebyprice",basicStudyVersion:104},20:{type:"VbPSessions@tv-volumebyprice",basicStudyVersion:126}},U=[17,18,20]},975179:(e,t,n)=>{"use strict";n.r(t),n.d(t,{actualSymbol:()=>ye,chartStyleStudyId:()=>G,createSeriesFormatter:()=>z,displayedSymbolExchange:()=>fe,displayedSymbolName:()=>ge,extractLineToolSymbolFromSymbolInfo:()=>de,extractSymbolNameFromSymbolInfo:()=>ce,getChartStyleByResolution:()=>B,getDefaultStyle:()=>W,getLastUsedRawDataStyle:()=>U,getLastUsedSingleValueBasedStyle:()=>x,getLastUsedStyle:()=>F,getSeriesDisplayErrorWV:()=>Le,getSeriesPriceFormattingState:()=>K,getSourceForEconomySymbol:()=>me,getSymbolDelaySeconds:()=>Ae,getSymbolExchange:()=>Ie,getTranslatedChartStyleName:()=>I,hasProjection:()=>q,hasVolume:()=>we,isCloseBasedSymbol:()=>be,isConvertedToOtherCurrency:()=>ee,isConvertedToOtherUnit:()=>se,isEconomicSymbol:()=>Ee,
isFutureContinuousSymbolWithBackajustment:()=>Re,isFuturesContractSymbol:()=>Ne,isMeasureUnitSymbol:()=>Me,isPriceSourceStyle:()=>j,isRangeBasedStyle:()=>N,isRangeStyle:()=>A,isRawDataStyle:()=>C,isRegularSessionId:()=>ve,isRequiringRestartSeriesStyles:()=>R,isSingleValueBasedStyle:()=>$,isStyleSupportedForReplay:()=>P,isTimeBasedStyle:()=>k,isValidStyle:()=>O,measureUnitId:()=>Te,preparePriceAxisProperties:()=>H,proSymbol:()=>Se,setLastUsedRawDataStyle:()=>V,setLastUsedStyle:()=>D,styleChangeRequiresRestart:()=>L,symbolBaseCurrency:()=>J,symbolCurrency:()=>X,symbolCurrencyConvertible:()=>Z,symbolCurrentContract:()=>oe,symbolHasEconomicEvents:()=>ue,symbolHasPreOrPostMarket:()=>ae,symbolHasSeveralSessions:()=>le,symbolOriginalCurrency:()=>Q,symbolOriginalUnit:()=>ie,symbolTitle:()=>pe,symbolTitleSeparator:()=>_e,symbolToSaveInState:()=>he,symbolUnit:()=>ne,symbolUnitConvertible:()=>te,symbolUnitConvertibleGroupsIfExist:()=>re});var i=n(444372),s=n(62802),r=n(638456),o=n(519073),a=n(540519),l=n(378975),u=n(735211),c=n(764829),d=n(957365),h=n(142567),_=n(788387),m=n(643322),p=n(78007),g=n(509724);const f=c.enabled("pay_attention_to_ticker_not_symbol"),y=c.enabled("uppercase_instrument_names"),S=c.enabled("charting_library_single_symbol_request"),v=c.enabled("use_ticker_on_symbol_info_update"),b=c.enabled("hide_object_tree_and_price_scale_exchange_label"),M=[4,5,6,7,8],T=[4,5,6,7,11],w=[0,1,9,19,2,14,15,3,16,10,8,12,13,18,17,20],E=[2,14,15,10,3,13,18];function I(e){return{0:i.t(null,void 0,n(527377)),1:i.t(null,void 0,n(745054)),2:i.t(null,void 0,n(903554)),14:i.t(null,void 0,n(409394)),15:i.t(null,void 0,n(869217)),3:i.t(null,void 0,n(534456)),16:i.t(null,void 0,n(99906)),9:i.t(null,void 0,n(913459)),10:i.t(null,void 0,n(259213)),12:i.t(null,void 0,n(498236)),13:i.t(null,void 0,n(655761)),4:i.t(null,void 0,n(188130)),7:i.t(null,void 0,n(743588)),5:i.t(null,void 0,n(383490)),6:i.t(null,void 0,n(276519)),11:i.t(null,void 0,n(855169)),8:i.t(null,void 0,n(863876)),17:i.t(null,void 0,n(292763)),18:i.t(null,void 0,n(617809)),19:i.t(null,void 0,n(193722)),20:i.t(null,void 0,n(383298))}[e]}function R(e){return-1!==M.indexOf(e)}function N(e){return-1!==T.indexOf(e)}function L(e,t){return!A(e)&&!A(t)&&!(e===t||!R(e)&&!R(t))}function A(e){return 11===e}function k(e){return-1!==w.indexOf(e)}function P(e){return 8!==e&&17!==e&&18!==e&&20!==e&&k(e)}function O(e){return N(e)||k(e)}function $(e){switch(e){case 3:case 10:case 2:case 14:case 15:case 13:return!0;default:return!1}}function C(e){return!a.SYMBOL_STRING_DATA[e]}function D(e,t){O(e)&&(11!==e&&s.setValue("chart.lastUsedStyle",e),C(e)&&V(e),be(t)&&$(e)&&s.setValue("chart.lastUsedSingleValueBasedStyle",e))}function V(e){s.setValue("chart.rawDataStyle",e)}function F(){const e=s.getInt("chart.lastUsedStyle");return void 0===e?1:e}function x(){const e=s.getInt("chart.lastUsedSingleValueBasedStyle");return void 0===e?14:e}function U(){return s.getInt("chart.rawDataStyle",1)}function W(e){return e?11:1}function B(e,t){const n=A(t),i=l.Interval.isRange(e)
;return!n&&i?W(!0):n&&!i?W(!1):t}function G(e,t){const n=a.SYMBOL_STRING_DATA[e];return void 0===n?null:t?`${n.type}-${n.basicStudyVersion}`:n.type}function H(e){const t=e.priceAxisProperties,n=t.lockScale.value(),i=6===e.style.value();(i||n)&&(t.log.setValue(!1),t.percentage.setValue(!1)),t.logDisabled.setValue(!(!i&&!n)),t.percentageDisabled.setValue(!(!i&&!n))}const Y=[4,7,5,6];function q(e){return-1!==Y.indexOf(e)}function j(e){return E.includes(e)}function K(e,t="default",n=!1){let i,s,r,o=100,a=1;if("default"===t)null!=e&&(({pricescale:o,minmov:a,minmove2:s,fractional:i}=e),r=e.variable_tick_size||void 0);else{let e=t.split(",");3!==e.length&&(e=["100","1","false"]),o=parseInt(e[0]),a=parseInt(e[1]),i="true"===e[2]}return n&&(a=1),{priceScale:o,minMove:a,fractional:i,minMove2:s,variableMinTick:r,ignoreMinMove:n}}function z(e,t,n=!1){const{priceScale:i,minMove:s,fractional:r,minMove2:o,variableMinTick:a}=K(e,t,n);if(null!=e){const l=e.format;if("default"===t&&"volume"===l)return new d.VolumeFormatter({precision:2});if("percent"===l)return new h.PercentageFormatter({priceScale:i,minMove:s,fractional:r,minMove2:o,variableMinTick:a,ignoreMinMove:n})}return new u.PriceFormatter({priceScale:i,minMove:s,fractional:r,minMove2:o,variableMinTick:a,ignoreMinMove:n})}function Z(e){return null!==e&&"spread"!==e.type}function X(e,t,n){if(null===e)return null;const i=!t||n?e.currency_id:e.currency_code;return void 0===i||""===i||"pct"===i?null:i}function Q(e,t){const n=t?e.original_currency_code:e.original_currency_id;return"pct"===n?null:n??X(e,t)}function J(e){return e.base_currency_id||null}function ee(e){if(null===e||!Z(e))return!1;const t=Q(e);return null!==t&&t!==X(e)}function te(e,t){return t&&null!==e&&"spread"!==e.type}function ne(e,t){if(null===e||!t)return null;const n=e.unit_id;return void 0===n||""===n?null:n}function ie(e,t){return t?e.original_unit_id||ne(e,t):null}function se(e,t){return!(null===e||!te(e,t))&&(void 0!==e.original_unit_id&&e.original_unit_id!==e.unit_id)}function re(e,t){return null!==e&&te(e,t)?e.unit_conversion_types||null:[]}function oe(e){return"futures"===e.type&&e.front_contract||null}function ae(e){return null!==e&&void 0!==e.subsessions&&e.subsessions.some((e=>"premarket"===e.id||"postmarket"===e.id))}function le(e){return null!==e&&void 0!==e.subsessions&&e.subsessions.filter((e=>!e.private)).length>1}function ue(e){return null!==e&&("forex"===e.type||(0,_.isCFDSymbol)(e.type,e.typespecs)||(0,o.hasCryptoTypespec)(e.typespecs||[]))}function ce(e,t,n,i){let s=e&&(n&&e.pro_name||e.full_name||e.name);return S&&t?s=t:(v||!i&&f)&&e&&e.ticker&&(s=e.ticker),y&&s&&(s=s.toUpperCase()),s}function de(e,t){return ce(e,null,!0,!0)||t}function he(e,t){return e?e.ticker??e.pro_name??t:t}const _e="·";function me(e,t){return Ee(e)?e.source2?.description??null:null}function pe(e,t,n="exchange"){const i=me(e)??e[n];return t||b?e.name:`${e.name} ${_e} ${i}`}function ge(e){let t=e&&(oe(e)||e.name)||"";return t.length>40&&(t=t.substring(0,37)+"..."),t.trim()}function fe(e){const t=e?e.exchange:""
;return y?t.toUpperCase():t}function ye(e,t){return null!==e?e.full_name:t}function Se(e,t){return e?.pro_name??t}function ve(e){return"regular"===e||"us_regular"===e}function be(e){return"c"===e?.visible_plots_set}function Me(e){return null!==e&&("unit"===e.measure&&null!==Te(e))}function Te(e){return e?.value_unit_id??null}function we(e){return"ohlcv"===e.visible_plots_set}function Ee(e){return null!==e&&"economic"===e.type}function Ie(e){const t=me(e);if(null!==t)return t;return(0,r.onWidget)()||"forex"===e.type?e.exchange:(0,g.redefineExchangeName)(e.listed_exchange)}function Re(e){return null!==e&&"futures"===e.type&&Boolean(e.has_backadjustment&&e.typespecs?.includes("continuous"))}function Ne(e){return null!==e&&"futures"===e.type&&!Boolean(e.typespecs?.includes("continuous"))}function Le(e){return(0,m.combine)(((t,n)=>{switch(t){case 4:{const t=e.seriesErrorMessage();return null!==t&&("resolution_not_entitled"===t||"custom_resolution"===t||"seconds_not_entitled"===t||"ticks_not_entitled"===t||t.startsWith("study_not_auth:"))?null:{type:"invalid_symbol"}}case 13:{const t=e.seriesErrorMessage();return null===t?null:{type:"calculations_error",errorMessage:t}}case 14:{const t=e.unsupportedResolutionState().value();return null===t?null:{type:"unsupported_resolution",reason:t.reason}}case 1:case 2:return null;default:if(n)return{type:"no_data"}}return null}),e.statusWV().weakReference(),(0,p.createWVFromGetterAndSubscription)((()=>!e.bars().size()&&!e.isInReplay().value()),e.dataEvents().dataUpdated()).ownership(),(0,p.createWVFromGetterAndSubscription)((()=>({})),e.model().onChartThemeLoaded()).ownership())}function Ae(e){return Math.max(0,e?.delay??0)}},875385:(e,t,n)=>{"use strict";n.d(t,{getProPlanDetailsForUser:()=>h,getProPlanWeight:()=>a,isExpertFeature:()=>d});var i=n(778016),s=n(549358),r=n(702598),o=n(296638);function a(e){return window.pro?"free"===e?-1:window.pro.getProduct((0,s.getProductForTrial)(e)).upgrade_weight:0}function l(e){return window.pro?window.pro.getProduct((0,s.getProductForTrial)(e)).upgrade_weight:0}function u(e){return function(e){return e.sort(((e,t)=>a(e)-a(t)))}((0,i.getProPlansWithFeature)(e).filter((e=>!(0,s.isTrialProduct)(e))))[0]||null}function c(e){return function(e){return e.sort(((e,t)=>l(e)-l(t)))}((0,i.getExpertPlansWithFeature)(e))[0]||null}function d(e){const t=c(e),n=u(e);return Boolean(t)&&!Boolean(n)}async function h(){const e=await(0,r.fetch)("/pro-plans/profile/"),t=await e.json();if(e.ok)return t;if(403===e.status){const n=t;throw new o.ApiError(n.detail,e.status,n.code)}throw new Error(`Unable to handle unexpected response: ${String(e.text())}`)}},547777:(e,t,n)=>{"use strict";function i(e){return e+"…"}n.d(t,{appendEllipsis:()=>i})}}]);